
<div class="row">
<div class="col-md-4">
<table>
    <tr>
        <td>Project:</td>
        <td>
            <select ng-model="current_project" ng-change="projectChanged()" ng-options="p.project_name for p in projects">
            </select>
            <br />
        </td>
    </tr>
    <tr>
        <td>Site:</td>
        <td>
            <select ng-model="current_site" ng-change="siteChanged()" ng-options="s.site_name for s in sites">
            </select>
            <br />
        </td>
    </tr>
    <tr>
        <td>Cytometer:</td>
        <td>
            <select ng-model="current_cytometer" ng-options="c.cytometer_name for c in cytometers">
            </select>
            <br />
        </td>
    </tr>
</table>
</div>
<div class="col-md-8">

    <div ng-show="dropSupported" class="drop-box" ng-file-drop="onFileSelect($files);" ng-file-drop-available="dropSupported=true">Drop files here</div>
    <div ng-show="!dropSupported">HTML5 Drop File is not supported on this browser</div>
    <br />

</div>
</div>


<table class="table table-hover">
  <thead>
    <tr>
        <th colspan="50" class="center"><h4>Upload Queue</h4></th>
    </tr>
    <tr>
        <th></th>
        <th>File Name</th>
        <th>Acquisition Date</th>
        <th>Site Panel</th>
        <th>Subject</th>
        <th>Visit</th>
        <th>Stimulation</th>
        <th>Specimen</th>
        <th>Pre-treatment</th>
        <th>Storage</th>
    </tr>
    <tr>
        <th><input type="checkbox" ng-model="master_checkbox" ng-change="toggleAllFiles()"/></th>
        <th></th>
        <th>
            <div class="datepicker-wrapper">
              <div class="input-group">
                <input type="text" class="form-control" datepicker-popup="{{format}}" ng-model="current_acquisition_date" ng-change="acquisitionDateChanged()" is-open="opened" datepicker-options="dateOptions" show-button-bar="false" show-weeks="false" ng-required="true" close-text="Close" />
                <span class="input-group-btn">
                  <button class="btn btn-default" ng-click="open($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                </span>
              </div>
            </div>
        </th>
        <th>
          <select class="app btn btn-default btn-xs" ng-model="current_site_panel" ng-change="sitePanelChanged()" ng-options="s.name for s in site_panels">
          </select>
        </th>
        <th>
          <select class="app btn btn-default btn-xs" ng-model="current_subject" ng-change="subjectChanged()" ng-options="s.subject_code for s in subjects">
          </select>
        </th>
        <th>
          <select class="app btn btn-default btn-xs" ng-model="current_visit_type" ng-change="visitTypeChanged()" ng-options="v.visit_type_name for v in visit_types">
          </select>
        </th>
        <th>
          <select class="app btn btn-default btn-xs" ng-model="current_stimulation" ng-change="stimulationChanged()" ng-options="s.stimulation_name for s in stimulations">
          </select>
        </th>
        <th>
          <select class="app btn btn-default btn-xs" ng-model="current_specimen" ng-change="specimenChanged()" ng-options="s.specimen_name for s in specimens">
          </select>
        </th>
        <th>
          <select class="app btn btn-default btn-xs" ng-model="current_pretreatment" ng-change="pretreatmentChanged()" ng-options="pt.name for pt in pretreatments">
          </select>
        </th>
        <th>
          <select class="app btn btn-default btn-xs" ng-model="current_storage" ng-change="storageChanged()" ng-options="s.name for s in storages">
          </select>
        </th>
    </tr>
  </thead>
  <tbody>
    <tr data-ng-repeat="f in file_queue">
      <td><input type="checkbox" ng-model="f.selected" /></td>
      <td>{{ f.filename }}</td>
      <td>{{ f.acquisition_date | date }}</td>
      <td>{{ f.site_panel.name }}</td>
      <td>{{ f.subject.subject_code }}</td>
      <td>{{ f.visit_type.visit_type_name }}</td>
      <td>{{ f.stimulation.stimulation_name }}</td>
      <td>{{ f.specimen.specimen_name }}</td>
      <td>{{ f.pretreatment.name }}</td>
      <td>{{ f.storage.name }}</td>
    </tr>
  </tbody>
</table>
